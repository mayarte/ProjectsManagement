@model MainSite.Models.ShowProjectContent
@{
    ViewBag.Title = Model.Project.Name;
}

<h2>@Model.Project.Name</h2>


@using (Html.BeginForm())
{
    <hr />
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
    @Html.ValueFor(model => model.ErrorMsg)
    @Html.HiddenFor(x => x.Project.ID);
    <div class="ProjectDiv">
        <table class="BlueTable">
            <tr>
                <td>
                    اسم المشروع
                </td>
                <td>
                    @Html.EditorFor(model => model.Project.Name, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.Project.Name, "", new { @class = "text-danger" })
                </td>
            </tr>
            <tr>
                <td>
                    مختصر عن المشروع
                </td>
                <td>
                    @Html.TextAreaFor(model => model.Project.Description, new { @class = "MultiLineTextArea" })
                    @Html.ValidationMessageFor(model => model.Project.Description, "", new { @class = "text-danger" })
                </td>
            </tr>
            <tr>
                <td>
                    السنة الدراسية
                </td>
                <td>
                    @Html.DropDownListFor(model => model.YearID, new SelectList(Model.Years, "ID", ""), new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.Project.Year, "", new { @class = "text-danger" })
                </td>
            </tr>
            <tr>
                <td>
                    نسبة الانجاز
                </td>
                <td>
                    @Html.EditorFor(model => model.Project.ProgressPercentage, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.Project.ProgressPercentage, "", new { @class = "text-danger" })
                </td>
            </tr>
            <tr>
                <td>
                    حالة المشروع
                </td>
                <td>
                    @Html.EnumDropDownListFor(model => model.Project.ProjectStatus, htmlAttributes: new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.Project.ProjectStatus, "", new { @class = "text-danger" })
                </td>
            </tr>
            <tr>
                <td>
                    حالة القيد
                </td>
                <td>
                    @Html.EnumDropDownListFor(model => model.Project.Status, htmlAttributes: new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.Project.Status, "", new { @class = "text-danger" })
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <input type="submit" value="حفظ التعديلات" class="btn btn-default" />
                </td>
            </tr>
        </table>

        قائمة المستخدمين ذو الصلة بهذا المشروع
        @foreach (var user in Model.Links)
        {
            <table class="BlueTable">
                <tr>
                    <td>
                        الاسم
                    </td>
                    <td>
                        @Html.ValueFor(model => user.User.Name)
                    </td>
                    <td>
                        نوع الصلة
                    </td>
                    <td>
                        @Html.ValueFor(model => user.LinkType)
                    </td>
                </tr>
            </table>
        }
    </div>
    <br />
    @Html.ActionLink("رجوع الى قائمة المشاريع", "ProjectList", "ProposeProject", null, new { @class = "myButtonGray" })
    @Html.ActionLink("رجوع الى قائمة مشاريعي", "MyProjects", "ProposeProject", null, new { @class = "myButtonGray" })
}

